(this["webpackJsonpsearch-graphs"]=this["webpackJsonpsearch-graphs"]||[]).push([[0],{31:function(e,t,o){e.exports=o(61)},36:function(e,t,o){},43:function(e,t){},45:function(e,t){},61:function(e,t,o){"use strict";o.r(t);var n=o(1),r=o.n(n),a=o(24),s=o.n(a),i=(o(36),o(10)),c=o.n(i),u=o(28),_=o(25),l=o(26),p=o(27),d=o(30),h=o(29),m=o(38)(Object({NODE_ENV:"production",PUBLIC_URL:"/search-graphs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PLOTLY_USERNAME,Object({NODE_ENV:"production",PUBLIC_URL:"/search-graphs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PLOTLY_API_KEY);console.log("process.env==",Object({NODE_ENV:"production",PUBLIC_URL:"/search-graphs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}));var O=function(e){Object(d.a)(o,e);var t=Object(h.a)(o);function o(){return Object(l.a)(this,o),t.apply(this,arguments)}return Object(p.a)(o,[{key:"componentDidMount",value:function(){var e=Object(_.a)(c.a.mark((function e(){var t,o,n,r,a,s,i,_,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="https://apirest.atinternet-solutions.com/data/v2/json/getData?&columns={d_pub_variant,m_pub_impressions}&sort={-m_pub_impressions}&filter={m_pub_impressions:{$gt:%270%27},d_pub_creative:{$eq:%27No%20results%27},d_pub_campaign:{$eq:%27se-searchbox-message%27}}&space={s:598273}&period={R:{M:%270%27}}&max-results=10&apikey=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/search-graphs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ATI_KEY),console.log("noResultsUrl===",t),e.next=5,fetch(t);case 5:return o=e.sent,e.next=8,o.json();case 8:if(n=e.sent,console.log("json=",n),r=Object(u.a)(n.DataFeed,1),a=r[0].Rows,s=a.map((function(e){return e.d_pub_variant})),i=a.map((function(e){return e.m_pub_impressions})),_=[{x:s,y:i,type:"bar"}],l={fileopt:"overwrite",filename:"simple-node-example",layout:{xaxis:{title:"Queries"},yaxis:{title:"Publisher Impressions"}}},m.plot(_,l,(function(e,t){if(e)return console.log(e);console.log(t)})),o.ok){e.next=18;break}throw Error(o.statusText);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("iframe",{title:"No results",id:"igraph",scrolling:"no",src:"https://chart-studio.plotly.com/~mo_at_bbc/0/#/",height:"525",width:"100%"}))}}]),o}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.6f994651.chunk.js.map